# 操作方法:便携式车载电脑

> 原文:[https://hackaday.com/2005/08/27/how-to-portable-car-pc/](https://hackaday.com/2005/08/27/how-to-portable-car-pc/)

![car pc](../Images/975410913cec03d25cef7fc5a2a0fddc.png)
*今天的项目来自读者 Douglas J. Hickok。一款实用、便携的车载电脑设计它旨在便于在车内使用，也便于拆卸。* 

道格拉斯·j·希科克设计的实用便携式车载电脑

## 介绍

当我说“车载电脑”时，你会想到什么？一个昂贵的特殊硬件，永久安装在你车内的隐蔽位置？大概？在过去的六个月里，我一直在设计和制造一台便携式电脑。所谓便携，我的意思是它可以作为临时服务器、工作站、媒体播放器或 GPS 导航仪插在任何地方——包括我的汽车。即使它主要被设计成一台车载电脑，谁说它必须呆在我的车里？以一个典型的桌面系统为代价，它为什么要放在我的桌子上？汽车电脑不再是富人的专利了？

这个项目打破了传统汽车电脑的许多“规则”:

*   它不是永久安装在汽车上的。
*   它不需要(许多)特殊零件或设备。
*   在炎热的天气里，它似乎不会过热，风扇运行安静。
*   这不是一个电猪，不会耗尽电池。
*   它适合一辆装有弱电系统的小车。
*   它不使用 DC-DC 转换器。
*   不需要屏幕(基本功能)。
*   这个系统和台式电脑一样便宜。

我能做什么

*   在我的车里或者其他地方跑。
*   在详细的地图上指出我的位置。
*   在同一张地图上标出路点。
*   播放 MP3、视频、游戏等。
*   起到文件服务器的作用，只连接电源和 USB WiFi。
*   功能相当于流式安全摄像头，添加了 USB 摄像头。
*   扫描 WiFi 信号，有无屏幕(音频输出)。
*   用作没有屏幕的自动点唱机。
*   电脑能做的任何事情，只要它能获得能量。

## 要求

从一开始，我就对这个系统有一个很长的需求列表。他们中的大多数人已经满意或者超过了标准，但是也有一些人已经崩溃了。稍后我会列出不成功的，并描述为什么它们
没有成功。

一般要求:

*   它必须有风格，看起来很酷。
*   它必须适合我的微型地理追踪器，不能碍事。
*   它不能杀死我的汽车电气系统或电池。
*   肯定便宜因为我是穷大学生！
*   它必须是便携式的，这样为了安全起见可以把它拿出车外。
*   硬件应该被移动而受到打击。
*   软件必须是灵活的，有许多可能的功能。
*   软件必须保持干净、快速启动和流畅运行。
*   软件必须做 GPS 测绘。
*   它必须支持 802.11b/g，并运行基本的 AP 查找软件。
*   它必须播放音乐、电影、游戏等。
*   它必须能够在没有屏幕的情况下播放音乐、扫描 WiFi 和执行程序。
*   开车的时候不能分心。

没有实现的想法:

*   它不能使用硬盘，因此可以随时关机。主要的想法是从 CD 启动，并使用 RAM 驱动器。我本可以用 Knoppix CD 来装驱动程序或服务器程序，用 DOS CD 来装 MP3，或者用 BartPE(或 XPE) CD 来装任何 XP 能运行的东西。然而，笔记本电脑硬盘比光盘使用
    更少的能量，启动更快。此外，驱动程序问题最终扼杀了这个想法，因为我无法
    获得所有启动光盘上工作所需的一切。我将不得不忍受基于
    硬盘的系统上可能的数据损坏。
*   我将通过自己制作电缆来省钱。然而，这会花费太长的时间，而且会有很多工作要做。我通过直接购买节省了时间和麻烦。
*   我会在电脑上为车里的所有东西做一个插头。保持连接简单快捷的想法是好的，但却被定制的电线拖垮了。反正我也没多少线可以勾
    。
*   我会用液晶电视，因为它更便宜。购买电视输出卡和屏幕实际上并不便宜，而且 320×240 的分辨率很糟糕，尤其是从 VGA 转换过来的时候。我强烈推荐一个带 VGA 输入的小型液晶显示器，这样你就能以合适的分辨率阅读所有内容。

## 准备汽车

![car and me](../Images/3be0444ceaf9438ab698ffe534504953.png)

我开的是 95 年的软顶地理跟踪器。这是一辆非常小的车，但是如果四个成年人能塞进一点，他们还是有空间的。它很高，所以我可以看到，在威斯康辛的冬天有四轮驱动，而且很省油。它
有一个小的电气系统，因为没有任何配件，有一个 55 安培的交流发电机和比普通
电池小的电池。“行李箱”是后座和汽车后部之间的一个非常短的空间，刚好够
放一个 1800 瓦的汽车放大器和双 12″音箱。我还牺牲了装有应急装置的司机
座位后面的脚部空间，所以我的车只能坐三个人。电脑可以放在不能用的座位上。

![Comp in car](../Images/5709f5160e1eae0773783ee3762aa3eb.png)

前面的空间有限，我需要为一个数字键盘、一个 7 英寸的液晶触摸屏和一个 12 伏的分线盒腾出空间来放置我的三个配件。(GPS、屏幕和雷达探测器)分线盒很好地安装在杂物箱中，杂物箱现在看起来像一个老鼠窝。键盘可能会卡在杯架或中控台隔间里。屏幕要困难得多，因为它在任何地方都不适合
。最后，我用铁丝把屏幕的支架绑在一个纸板箱上，在箱子里装满硬币作为
的配重，然后把箱子绑在汽车上，这样它就不会掉下来。所以，它现在位于仪表板的顶部，在汽车的中间。它工作得很好，因为车里的每个人都能看到它。我最终需要画丑陋的红色盒子
，但是很明显，从这个项目开始，我就没有追求“漂亮”。关于这个设置最好的部分是，我可以拔掉电源和视频，松开屏幕，并很容易地从车上拆下来。我
买了一个带衬垫的小便携包，可以装屏幕和 GPS，便于携带，这意味着我可以用一只手把我的
整个系统带进屋里。

![car dash](../Images/4acf6d5315320da9ca83c7630d3bb144.png)

到目前为止，我还没有损坏汽车。有没有可能把 400 瓦的逆变器插到 12 伏的插头上？答案是否定的，因为电脑的功率可能超过 150 瓦，烧断 12v 电源插头的 15 安培保险丝。我用一根电线从电池穿过引擎盖下的 30 安培保险丝，穿过仪表板上的开关，连接到司机座位下的逆变器
。这是赛车本身唯一真正的变化。这是一个很好的升级
,因为现在我有一个 120 伏的插头，无论什么可能需要它。

最后我估计电脑只拉 10 安培左右。我在长途旅行中一直开着风扇，开着灯，开着电脑，开着音量适中的音乐，电池没有任何耗尽的迹象。
如果我的车能承受这些负载，那么外面的任何车也能承受。

大多数电线都是绑在一起的，所以不会碍事。我在其他地方使用的唯一电缆是 LCD VGA 电缆，但它很好地固定在适当的位置，不需要绑线。我可以做一个专业的工作，隐藏所有的电线，但这将使驾驶前连接它变得更加困难。此外，过多的
可见线路增加了极客的分数。

## 系统硬件

**电脑剩菜**

我房子周围的所有这些部件…

主板品牌，或通过技术，模型 MV21(我想)，内置声音，视频和 USB。

AMD 900mhz CPU.

512 兆 ram。

40g 笔记本电脑硬盘。

250 瓦电源。

建议:给自己找一块内置东西更多的主板，比如 LAN。越多越好，如果你不使用它，你通常可以在 BIOS 中关闭它。

在初始设置期间，我有一个 PCI LAN 卡和一个 PCI WiFi 卡连接到主板上，还有一个 CD 驱动器
插入第二个 IDE 插槽。一切正常后，我去掉了所有三个项目，以节省电力消耗。

![during setup](../Images/3afc2ec2494aace0702816b27fc8e495.png)

你唯一需要的特殊电缆是一根连接笔记本电脑硬盘和 IDE 插槽的电缆，就像普通硬盘一样。
有两种版本，一种是直接放在笔记本电脑硬盘上的小转换板，另一种
是转换它的实际电缆。推荐使用电缆，因为我无法让电路板正常工作
。无论如何，电缆的安装要干净得多。任何一个都不到 15 美元，包括运费。

**寻找案例**

我想要一些强大的，危险的，全面的硬核。我本来想买一个手提箱，但那太逊了。所以，我去了军余商店，看看有什么集装箱可用。我是在
运气；有一个 20 美元的小塑料弹药箱，看起来很完美。它可以装 30 . 25 毫米 M793 式弹药
子弹，当然也可以装一台电脑。它是黑色的，覆盖着黄色的文字，并有一个巨大的橙色
爆炸标志。幸运的是，盒子的两端都是敞开的，所以在里面工作会容易一些。两个
门都很重，用金属杆锁住。

**组装电脑**

首先，我必须测量一切，钻大约 18 个螺栓孔。所有的螺栓孔都在凹陷区域，所以没有一个螺栓头会伸出盒子的外壳。当机箱平放时，主板用
螺栓固定在底部。已拆卸的电源上下颠倒地固定在主板后面的顶部。
硬盘用螺丝固定在主板后面的底部。电源插头和电源按钮在顶部靠
的爆炸 logo。电源按钮是一个内置硬盘 LED 的街机按钮。为了通风，
我在盒子上又钻了 24 个洞。我在爆炸标志的另一侧安装了一个机箱风扇，它在冷却机箱方面做了一个令人惊讶的好工作。由于箱子的容积很小，空气循环很快。我钻的其余通风孔位于远离
风扇的其他三个角落的凹陷区域。最后，我在前面切了一个小矩形，用于所有重要的车内连接主板。
冷却效率很高；CPU 和电源都有专门的风扇吹过。电源
风扇就在里面的正中间。我不得不把它放在一个铰链上，这样我就可以在需要的时候把主板取出来。如果我打开前门，我可以完全访问主板前面的所有连接。
为了调试，我可以打开后门，连接一个 IDE CD 驱动器。系统不能引导到任何 USB 设备，所以当系统不能正确引导时，很难继续工作。如果需要的话，还有空间放三个 PCI
卡，但是我真正需要的任何东西都有 USB 版本。

![inside front](../Images/15c4e6f300c9ddacb16aa57ae8f9993c.png)

![inside rear](../Images/b7135336a4dfbd9945923ce0ee7b71c6.png)

**屏幕搜索**

我花了很多时间挑选一个理想的液晶显示屏。我最终买了一个 275 美元的小人国 7 英寸触摸屏(型号 619GL-70NP/C/T)。这完全取决于你想要什么，什么适合你的车。最便宜的解决方案是液晶电视，但是分辨率不是很高。另一个好的解决方案是购买一个
轨迹球鼠标而不是触摸屏，以及一个处理 VGA 输入的小 LCD。如果有空间的话，轨迹球可以连接到汽车中控台的一个舒适的地方。我对小人国很满意，因为它也可以
做电视，如果我再加一个 DVD 播放器的话，它还配有遥控器、手写笔、可拆卸支架、12v 汽车电源线、
110v 家用电源线，以及 PC 和电视使用所需的所有电缆。尽管你所能做的只是触摸
触摸屏，但它可以点击、双击、拖拽&拖放、模拟右击，甚至用 Windows
屏幕键盘打字。这是一个相当强大的输入设备。

**GPS**

当时，最便宜的带数据输出的小型 GPS 设备是 Garmin Geko 201，售价 115 美元。虽然很便宜，但这个单位很棒！它在一个非常小的封装中拥有所有的通用功能。要使用
数据输出功能，您需要一根特殊的电缆。创建自己的电缆是可能的，但这超出了
我的能力，因为我没有合适的工具来做这样的小项目。这种电缆在 Cabela ' s
大约 40 美元，有一个串行插头和 12v 汽车插头。至于从 GPS 上读取数据，那就很简单了。GPS
大约每两秒钟输出一次 NMEA 字符串，这些字符串只是逗号分隔的文本数据。有关 NMEA
琴弦和自制串行线缆的更多信息，请访问以下网站:

[http://www.adonald.btinternet.co.uk/GPS/GPS.htm](http://www.adonald.btinternet.co.uk/GPS/GPS.htm)

[http://www.boondog.com/%5Ctutorials%5Cgps%5Cgps.html](http://www.boondog.com/%5Ctutorials%5Cgps%5Cgps.html)

如果你想买便宜又实用的，一个更好的选择是 Garmin GPS 18 和捆绑的 nRoute 软件，
或类似的软件包，价格约为 120 美元。对于所有非程序员来说，这个一体化的包可能是最好的主意。

注意:当你的计算机正在启动时，不要打开你的 GPS 并连接到串行端口。Windows 会将它
视为一个串行鼠标，指针会随机跳跃和点击。(是的，我花了一段时间才弄明白这个问题。)

**WiFi**

外置 WiFi 天线有两种选择:带外置天线的 PCI 卡，或者 USB 设备。
老实说，我不知道为什么大家都选择比较难的那个，就是 PCI 或者 PCMCIA 卡，外加一个
天线。我应该把天线放在哪里？它粘不住软顶。我的解决方案是购买
40 美元的 Linksys WUSB54G，并把它绑在我软顶下面的横杆上。在我看来，USB WiFi 设备和外置天线一样好。我还有一个 USB Netgear MA111 供车外使用。

![linksys](../Images/9e850387b5bf656f251568b69d9d3468.png)

 **人身安全

地理跟踪器的安全性太差了。如果我把钥匙锁在车里，或者我的锁在外面冻住了，我通常可以很容易地打开侧窗，伸手从里面打开。因此，
我的人身安全是不会在车里留下任何值钱的东西。所有的 CD 都是原版的拷贝，而
其他的几乎都不值钱。车载电脑和屏幕总是随我进家门或者
酒店。当我带不动它时，一条小毯子盖住电脑，液晶显示屏被拿走藏在车里的其他地方
。当有更好的目标时，为什么一个小偷要闯入我看起来空荡荡的车？

## 系统软件

没有控制硬件的东西，硬件什么都不是。任何计算机系统的能力和局限性都取决于在其上运行的软件。明智地选择软件，不要让事情变得混乱，也不要害怕编写定制程序来让事情变得更顺利。

**OS**

对于这样的项目，Linux 通常是一个非常好的选择。然而，我很难让所有的司机都工作起来。我也不想花太多时间加载基本软件来让一切正常工作，或者从发行版中删除不适用于这个项目的额外内容。我有一份额外的 Windows 2000，所以我
安装了它。只要付出最少的努力，一切都可以正常工作。我经历了基本的步骤来保护它，
修补它，让它运行顺畅。在我加载完我所有的定制软件后，感觉棒极了！

**软件**

我目前使用的软件:

我写的东西:

*   CarGPS 与 GPS 配合使用，可以追踪我在地图上的位置。
*   MapGen–从缓存图像生成新地图。
*   screen dimmer–调暗屏幕以便夜间使用。
*   audio control–USB 数字键盘控制的点唱机等。

我没有编写的其他程序:

*   NetStumbler 扫描 WiFi。
*   UltraVNC–用于通过 HTTP 远程控制机器。
*   Http 文件服务器 1.6a–仅用于提供文件服务。
*   咖啡杯网络摄像头-用于安全摄像头等。
*   tftpd 32–TFTP 和 DHCP 服务器。

**无屏幕可用**

如果我只是为了短途旅行想要音乐，我只需要带上电脑本身。我插上电源、声音和一个 USB 数字键盘。我写了一个程序(AudioControl)使用媒体播放器控件来播放音乐，和一个
Text2Speech 控件来描述我在做什么，这两个控件都是 Windows 内置的。整个程序由数字键盘
控制，只输出声音。程序有三种模式:音乐播放器、库
浏览器、脚本浏览器。音乐播放器给了我对媒体播放器的基本控制，比如播放、暂停和
下一首歌。库浏览器让我浏览我的音乐目录，并将音乐添加到我当前的播放列表中。
脚本浏览器执行 Netstumbler 之类的程序，用于 WiFi 信号的音频输出，或者可以
自动生成播放列表或执行其他任务的批处理文件。

一个示例 IO 会话，其中我添加并播放一种类型的音乐，如下所示:(数字键盘输入在括号中，
,声音输出在引号中，并使用默认的 Microsoft Sam 语音。)

“音频控制”[0]“目录浏览器”。]“播放列表已删除”[6]“道格的音乐”[2]“浏览道格的音乐”[6]
“电子”[6]“工业”[2]“浏览工业”[enter]“添加到播放列表”[0]“脚本浏览器”[0]
“关机”[0]“音乐播放器”[*]音乐以随机顺序开始播放。

**映射问题**

绘制地图的程序贵得惊人，而且每张州地图收费约 100 美元。它们看起来真的很好用，但是对于 7 英寸的屏幕来说太臃肿了。作为一名精明的计算机科学学生，我很快
决定自己写。几天后，我有了一个对我的系统非常有效的东西。

![map full](../Images/f61ae095973db3ed47716c728f980512.png)

做好地图是惊人的挑战。你不能只拿一张巨大的地球地图，然后期望它能工作。地图只是平面图片，GPS 只输出类似你的位置的数字。那两个
东西完全不一样，因为地球是圆的，地图是平的。太大的地图很难正确校准
，太小的地图也没什么用。

所以我是这样做的:用图片当地图，为每张
地图保存一个有两个校准点的小数据文件。校准点包含 GPS 坐标和
地图/图片上特定点的各自像素值。使用这种关系，您可以计算任何给定 GPS 坐标的像素值。

我一直在用的免费地图在哪里？我最初扫描纸质地图，但发现了一个更好的免费来源:
谷歌地图。因为我使用这些地图只是为了个人使用，也是为了计划目的(去某个地方)，所以谷歌 TOS 应该没问题。我创建了一个程序(MapGen)来从我的缓存图像中生成 7680 x 7680 像素的大型
详细地图。校准很容易，因为它在同一变焦水平；我只需要一个点
就可以让地图进入轨道，另一个点是根据之前相同大小的地图计算出来的。正因为如此，
我可以通过将地图放在我当前位置的中心并按下一个按钮来即时校准新地图。

![map panel](../Images/1503d3d7394cee1c6599145e94881c9e.png)

由于所有附近的图像都被缓存，并且程序处理所有的数学和地图绘制，我不需要互联网
来确定我在哪里旅行。对于一次真正的长途旅行，我可能需要缓存更多的
图片。

## 最终结果

**在汽车上使用**

一切都很顺利。在假期里，我从来不会迷路，可以放心地开车。此外，我可以想拍多少张数码照片就拍多少张，当相机满了的时候，就把它清空到车载电脑上。最近，我最喜欢的爱好之一是地理藏宝，地图在这方面非常有用。我可以添加一个地理缓存作为一个航路点，并且
程序在地图上绘制它。在我尽可能靠近后，我可以移除 GPS 并找到
缓存。在地图上标记转弯也很有用，所以我不会错过它们。如果乘客感到无聊，他们可以
看电影或玩游戏。我的女朋友阿曼达喜欢它！当然，我还可以在
背景中播放音乐，或者让它寻找新的 WiFi 接入点。

**下车使用**

将系统连接到现有网络非常容易。我只需要一个电源插头和 USB 网络接口。我有一个 USB 网卡，但通常我使用 Netgear MA111 wireless，它足够长，可以伸到盒子外面。默认情况下，机器将从 DHCP 获取一个 IP，UltraVNC 将开始监听远程
控制。如果我需要一个完整的计算机设置，我可以从我的
车上拿液晶触摸屏、它的电缆和键盘。把它们连接在一起，我就有了一个用于酒店网络的小型工作站，或者是
家中的另一台台式电脑。

![comp minimal](../Images/96a265ee12bd1acdb2ad056bcb848c2f.png)

## 未来升级

**键盘记录器**

不是记录密钥，而是在 Windows 看到它们之前捕获并交换密钥。使用 USB
数字键盘进行窗口切换(alt+tab)，打开开始菜单(control+esc)，关闭活动程序(alt+F4)，像手机一样键入
文本，以及许多其他事情将会非常方便。由于数字键盘没有这些键，我需要在操作系统的底层进行一些
交换。

**DIP 开关**

告诉计算机在启动时应该做什么是很好的。应该是 DHCP 服务器还是抓取一个
IP？它应该启动文件服务器程序还是 GPS 地图程序？由于当时我可能没有连接任何 IO
设备，我希望它从 DIP 开关读取设置并相应地采取行动。

**方向**

随着我的 GPS 程序未来的增加，当它
接近特定的 GPS 坐标或图片像素值时，它将能够通过 Text2Speech 控件说些什么。我可以计划我的路线，并在文本文件中列出所有这些地点，当我接近它时，系统会说“在 56 号高速公路右转”之类的话。

**更好的映射**

映射程序总是可以使用改进。我希望它能处理更大的地图，有更平滑的缩放，更多的功能，等等。我还想要一种更简单的方法来生成好的地图，以及一个更大的源地图缓存。
最小化点击和添加自动化是一个永远无法完成的任务。

**自动音量**

我的软顶跑车开得快时会发出噪音，这就是我买了一个大音频放大器的原因。然而，在城镇减速总是让音乐太响，加速返回会让汽车太吵而听不到音乐。由于 GPS
知道我当前的速度，我想把它和音频程序连接起来，让音量根据我的速度
自动调节。

## 系统审查/建议

如果你想尝试这个项目，以下是我的基本建议:

旧电脑零件，大约 250 美元。

任何你能找到的小案子。

汽车逆变器(400 瓦)，40 美元。

Linksys WUSB54G WiFi，40 美元。

VGA 液晶触摸屏，275 美元。

…或者…

VGA 液晶显示器和轨迹球鼠标，价格不到 200 美元。

…或者…

写一个控制程序，只用音频输出。

garmin Geko 201 GPS(115 美元)和电缆(40 美元)。

…或者…

Garmin GPS 18 与捆绑的 nRoute 软件，120 美元或更多。

加上许多小东西的开销…

有创意，玩得开心，祝你好运！**