# 黑客 14 岁的电力电脑 Mac 起死回生

> 原文:[https://hackaday . com/2011/07/24/hacking-14 岁-power-PC-MAC-起死回生/](https://hackaday.com/2011/07/24/hacking-14-year-old-power-pc-mac-back-to-life/)

![](../Images/a52270854fe0360aef545356a63a7da3.png "Exif JPEG")

一段时间以来，我一直在与一台垂死的 2.6Ghz 双核计算机作斗争，但由于懒惰和预算，我只是让它顺其自然。起初，它偶尔会在游戏中崩溃，然后它会在日常活动中崩溃。一年后，它会在 20 秒内达到 105 摄氏度，这就是戏剧的开始！

我把我的 2ghz“电子”电脑扔进我的主机箱，用了几个月。它的主板上的每一个电解电容都变得浮肿，但它已经正常工作了近 5 年。我对 geforce 7600 显卡的两个瓶盖被吹掉的声音感到惊讶。在震惊和兴奋中，我取下吹掉的盖子，把她放回去，又用了 4 个月，然后又有两个电容器烧断了，我取出了一个电压调节器(谁知道还有什么)。

只带着厕所，我陷入了困境！然后一个同事走过来对我说“嘿，伙计，你想要这台 mac，我只想要它的 zip 驱动器”。当然，在没有 avrgcc、数据表和计算器的情况下，我发疯了，我用了 14 年的 Apple Power Macintosh 9600/300 作为我的台式机器，现在我将向你展示我是如何在休息后将它从一个新奇的遗物变成日常有用的机器的。

所以我买的这台机器是 1997 年的 powermac 9600，它配有 300Mhz 604e motoroloa power pc cpu、64 兆和 8 兆非加速视频卡。这些新的卖了 4200 美元。

然而，这是 AVID 系统的一部分，我收到时它的每个 PCI 插槽都装有视频设备、SCSI2 和 256 兆内存(12 个插槽中有 8 个是 32 兆内存)。它仍然有它的 8 兆显示卡，幸运的是还有一个带 VGA 输出的 Targa2000 卡。

![](../Images/42785acc948e35c4258e86735af97a53.png "Exif JPEG")

这些卡片虽然令人印象深刻，但实际上毫无用处。即使我有运行 avid 所需的加密狗，它 90 年代中期的技术消耗了大量的能量。除了 Targa2000 卡之外，所有这些双板全长加热器都被移除，因为它有 VGA 输出。我没有麦金塔显示器或适配器。关于 Targa2000 视频卡，对于那个时代来说，它是一张很好的卡，但是在这个世纪制作的卡会很棒。有了这个视频，mac os 工作了，8.x 很爽快但是有点局限。9 是狗 9.2 更好，但它没有什么令人印象深刻的，任何通用的 pci svga 卡都可以做到这一点，所以视频成为问题#1。

视频对 mac 来说有点棘手，它必须有自己的 rom，并且是标准 pc rom 的 2 倍大(512Kbit 对 1024Kbit)，所以首先要做的是找出哪些卡可以作为“mac 版”使用。

查看会让你知道你可以用什么。我有一台 power pc 机，想用一个原装的 rom，这样我的列表就减少到了第一张表。其他表格包括一些基于 intel 的机器的 rom，缩小的(试图在一个较小的 pc rom 芯片上安装大的 mac rom)和修改的，它们不是真正支持的卡，所以祝你好运。

要安装这些 rom，你需要一台 x86 IBM 兼容的机器来使用 rom 闪存软件，你的卡需要有 1 兆位的 rom。这造成了一个问题，因为目前我所有带 pci 插槽的 pc 都被烤焦了，我有一个可能工作的卡是一个带 pc rom 的 9250，我能找到的唯一可供下载的 mac 端更新程序是 OSX 的，这台 mac 本质上不会超过 9.04。

继续前进，我开始阅读 radeon 7000。对于这台机器来说，这是一个相当快的卡，我可以[找到 mac os9 rom 的更新和驱动程序](http://mattst88.com/?page=ati)，而且你可以便宜地整天得到 PC 版本！传统上，人们会去寻找几个品牌的卡，提供 PC 和 Mac 版本，只是从来没有改变为 PC 使用的较小的 rom。这些卡很快就干了，如果你现在看到一张卡，它的价格会非常高(一张有 10 年历史的 mac 版卡用起来就像 40 美元，新的大约 100 美元！).

在我搜索软件的过程中(当 AMD 进来的时候，ATI mac 的驱动程序就拜拜了),我偶然发现了一个旧网站，在那里，一个家伙拿起任何一台旧 pc 7000，用一把小刀切断 rom，然后用一个炉子和一把平头螺丝刀把一个更大的换上。然后，他开始把它放入他的 pc 中，用于旧的 2 flash 过程，但他想知道这是否有必要。事实上不是这样的！你可以把一个带有正确大小的空白 rom 的 radeon7000 放入 mac，它会很好地更新它。

我上了网，立即发现了一个 64 兆内存的 pc-pci 版本 7000 全新的 14.99 元免费送货。卡一到，我就检查了它的 rom，发现它是一个没什么特别的 512Kbit 25×512 SPI eeprom，每个人都在某个地方制作过。然后，我冲到 digikey，找到了一个由微芯片制造的 25LC1024，可以安装在垫子上。一旦到达，我尽力做一个专业的工作来移除芯片，是的，一个有炉子和平头的家伙没有问题，但我冲洗了地面垫(doh！)…没有什么是 30 号线修不好的。

![](../Images/209305a8b25bd201e63091e0845db6b6.png "Exif JPEG")

![](../Images/270c1168d223c93c859d57c98d81a598.png "Exif JPEG")

此时，我有一个 15 美元的卡，上面有一个 6 美元(包括邮件)的芯片，没有 bios。我们需要纠正这一点。首先，你至少需要系统 9。在我等待发货的时候，我开始升级我的操作系统。机器自带 OS8.1？我有一张光盘上的 OS9.04，这是这台机器在没有任何改动的情况下可以接受的最大值。MacOS9.04 非常慢，你尝试的其他 mac 应用程序都抱怨想要 9.1 或 9.2(经典操作系统的最后版本)。谢天谢地，有些人已经坐下来，在一个名为 [OS9 助手](http://www.os9forever.com/os9helper.html)的程序中解决了这个问题。使用这个程序和更新磁盘镜像([美国英语可从苹果](http://support.apple.com/kb/ht1387)获得，但我发现[也为国际人群](http://www.gla.ac.uk/~gwm1h/macos9/)设置)你只是一个跳跃和跳跃远离 9.22 和 7000 的最新 ATI 驱动程序和更多！

现在我们已经准备好完成 ATI 卡，将卡插入一个未使用的插槽，我不会移除工作的视频卡。然后我启动了 mac，下载了 [R7000-ROM-208.hqx](http://cheesefactory.us/filecenter/R7000-ROM-208.hqx) 和[ATI-retail-9-2-2-Jan 2005 . hqx](http://cheesefactory.us/filecenter/ati-retail-9-2-2-jan2005.hqx)。解码和提取两者，先运行 rom 更新程序。这会弹出一个小界面，询问你是否想更新。它应该只需要几分钟来刷新空白 rom，当它说这是好的。我现在准备移除旧的 Targa2000 卡并安装驱动程序。

![](../Images/7e04cd845505ba3b7441237708077c9c.png "Exif JPEG")

这款 R7000 在经典的 mac OS 中有很大的不同，以前你几乎可以看到 Targa 卡绘制窗口，Classilla(用于 mac os9 的 mozilla 浏览器)像我的 386 一样滚动网页，我现在处于加速 2D 和 3D 图形的土地上，Classilla 非常可用，计算机玩的是一个非常糟糕的 Quake3 Arena @1024×768 游戏。所有选项都被启动，但问题是 OS9.22 在计算机方面非常陈旧，软件支持早已过时此外，如果我想编程我的 avr 的呢？或者找到隐藏在一些 java 脚本后面的数据表？实际上，要使这个东西可用，它需要一个现代的操作系统，一个轻便但简单的操作系统，可以在一个强大的 PC cpu 上运行，带有大量的工具和程序，比如 Debian PPC…

我下载了最新版本的 Debian PPC 作为 [200 meg 小 CD](http://cdimage.debian.org/debian-cd/6.0.2.1/powerpc/iso-cd/debian-6.0.2.1-powerpc-netinst.iso) 。有完整的 cd 和 DVD 的，但这一个得到你想要的网上，所以它对我来说更实用。为了在所谓的“旧世界 Mac”上引导 linux，你需要一个引导程序和一个安装你的发行版的地方。在这些旧机器上工作的主引导程序被称为 [bootX (linux)](http://penguinppc.org/bootloaders/bootx/) 。这是旧的，没有支撑，但工作起来很有魅力。不利的一面是，你需要首先至少部分地引导到 OS9，所以，是的，你必须保留 OS9，即使它是一个很小的安装。

至于安装我的 linux 的地方，我有一个 9.2 千兆的 SCSI(所有的驱动器都是这台旧 mac 的 SCSI ),它来自一台 PC。不幸的是，是的，MAC 电脑也是硬盘的一大麻烦，并且要求在机器使用它之前，它们也要安装苹果的驱动程序。在过去，你需要使用像“硬盘工具包”这样的工具，这是一个商业软件包，只能做一个 OK 的工作。幸运的是，人们已经为苹果自己的驱动工具打了补丁，所以你可以初始化分区和格式化任何驱动器。这些工具不喜欢我安装的 OS9.22，所以为了使用它们，我必须使用 OS8 启动盘。

我不需要对 linux 正在运行的驱动器进行分区和格式化，但它需要“更新”和初始化它的驱动程序，这将数据分散到一些特殊的分区上，这样当你稍后要求计算机访问该驱动器时，它就知道你在说什么了。在我的情况下，linux 分区器甚至不会看到驱动器，直到它被初始化。

我有一个引导加载程序，而且我有一个足够大的磁盘来安装 linux，而不会破坏我的 OS9 有趣的驱动器，所以让我们开始这张 CD 吧！我将 bootX 引导程序提取到我的桌面上。文件夹里面是应用程序，一个 linux 内核的文件夹，和一个系统扩展，所以当你完成后，你可以设置它，在启动 linux 之前，你不必一直走到 OS9 桌面。我将 Debian CD 放入驱动器，并将 vmlinux 和 initrd 从 install\powerpc 文件夹复制到 bootX linux kernels 文件夹。启动 bootX，将内核选择指向 Debian PPC linux 磁盘上的 vmlinux，然后也从 CD 上指向使用 initrd ram 磁盘，并单击 linux。

![](../Images/8bdd727d7bbfd5a57a6f0091e46f3b2b.png "Exif JPEG") ![](../Images/ae8efe6f1ef8eca2f0ce785b816ab4c1.png "Exif JPEG")

有时，如果启动时光盘不在机器中，它会尝试锁定。重启后再试一次。否则，迎接你的应该是通常的 linux 文本聊天，然后最终进入一个基于基本文本的安装程序。大多数情况下，只需遵循菜单即可。当你到达分区部分时，你如何对磁盘进行分区并不重要，只要记住不要擦除你的 OS9 分区或苹果磁盘驱动中的任何分区。因此，除了使用整个磁盘之外，任何选择都可能是安全的。此时，写下不同的 linux 分区在哪里也是明智的，我在/dev/sdb7 有一个引导分区，在/dev/sdb8 有一个根分区，尽管实际上我应该把它们都放在一个分区中，因为引导分区实际上不做任何事情。

![](../Images/5d26637b19792b1dd4049c13d96b3d67.png "Exif JPEG") ![](../Images/6723e51b9b1f2c1047a03fcba2602a77.png "Exif JPEG")

这是安装中最棘手的部分。Debian 将尝试安装另一个引导程序。你可能会很幸运，而且可能会成功。这些年来，我已经尝试了半打机器，但都没有成功，这次也没有成功。很好，忽略它。诀窍是将现在定制的 linux 内核和 ramdisk 从我的引导分区转移到我的 mac OS 分区。大多数关于在“旧世界”机器上安装 Debian 的教程都说“直接挂载并复制”，有些甚至建议使用苹果的 prodos 分区，但从来没有提到如何挂载它…Debian 的这个安装程序不知道什么是 HFS+磁盘，我尝试了十几种不同的方法来挂载或复制它。最后，我的主要台式电脑需要的最后一部分已经在邮件中完成了，所以我放弃了，在我的电脑上使用 PC SCSI 卡和 linux 从驱动器上复制了 2 个文件，并通过电子邮件发送给了 mac 上的我自己。

![](../Images/572d38c3ae37ca26c1fb4cabbaebbf5c.png "Exif JPEG")

现在我已经有了我的机器的引导文件，我只需指向 bootX 来使用它们，告诉它我的根驱动器在哪里，不一会儿我就可以看到一个漂亮的登录提示。几个简单的安装之后，我开始构建我的软件。在安装程序中，我选择了只给我一个基本的命令行机器，如果我选择了“gui 桌面”,那么我就会被 GNOME 和一堆我不想要或不需要的东西下载到这台机器上，所以我选择自己安装它。我最终选择了 xorg 作为显示服务器，XFCE 作为桌面管理器。总的来说，对于一台使用了 14 年的电脑来说，如果你让一个应用程序或网页加载后再去摆弄它，它的速度相当快。在过去的一个月左右的时间里，我几乎每天都在使用它，我对它的性能感到满意和印象深刻。

![](../Images/258f2b7fa6c428c833ef4ee58b7e7f97.png "Exif JPEG")

这是一个简短的视频，它从冷启动进入 OS9，然后进入 bootX，然后进入控制台 linux，进入 XFCE，在合理的时间内加载 gecko 浏览器，pdf 阅读器，任务管理器，IDE，终端和文件管理器以及所有桌面工具。当然，它不会打破任何速度记录，但如果你不得不滞留在这台电脑上，你会生活得相当舒适。就其复古吸引力而言，这台机器能够启动低至 macOS7，所以你可以在其上运行大量复古软件，并且是能够读写苹果时髦的 800k DD 软盘的最后一批型号之一，这对我的 mac SE 来说是无价的。事实上，我能够把它作为一个很酷的旧 mac 来使用，并让它成为我日常使用的电子工作中的一个有用的东西，这使得这台机器值得麻烦和压缩驱动器。

[https://www.youtube.com/embed/Mkrv-uVkahA?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent](https://www.youtube.com/embed/Mkrv-uVkahA?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent)