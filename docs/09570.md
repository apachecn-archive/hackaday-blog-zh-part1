# 用于复古 PC 的模拟游戏手柄

> 原文:[https://hack aday . com/2012/01/26/analog-joypad-for-your-retro-PC/](https://hackaday.com/2012/01/26/analog-joypad-for-your-retro-pc/)

![](../Images/21fecff0212ffc28ddb2a362272bebfe.png "Exif JPEG")

旧电脑的部分乐趣是玩一些旧的学校游戏，虽然你可以用键盘玩，但用操纵杆更有趣。你可以在拍卖网站上整天买到旧游戏杆，但你必须小心。有些是数码的，不能在许多系统上的许多游戏上运行。有些一开始就很便宜，可能已经用坏了，还有很多是飞行棒…有没有用巨大的飞行棒玩过吃豆人？

我真正想要的是为我 1986 年的 Apple //c 设计一个类似游戏手柄的设备，使用一个现代的拇指操纵杆模拟控制器。使用旧 XBOX(1)控制器的拇指棒，Radio Shack 的一些通用部件，再加一点努力，我最终得到了我想要的东西。

休息后加入我们，我会告诉你怎么去那里！

首先是一些基础知识，大多数有模拟控制器的计算机用一种非常简单的方法实现它。简而言之，有一个 555 定时器，用于单次触发模式，计算机触发 555，并计算在 555 的输出改变之前经过了多少周期。操纵杆内的一个电位计连接到这个电路，控制电容器充电的速度。一旦填满，555 改变输出。向一个方向摆动操纵杆，电阻增加，电容器需要更长时间充电。向另一个方向摆动阻力降低，电容充电更快。简单吧？

![](../Images/db4e67859364314b3579425629768b5f.png "555-Timer-Monostable-one-shot-Circuit")

现在只需将 555 乘以你需要多少轴，你就有了一个简单的模拟操纵杆。苹果//，和 IBM 都是这样工作的，用的是 556 双定时器(一、双轴操纵杆)或者 558 四定时器(二、双轴操纵杆)。下面是来自 [Apple //c 技术参考手册](ftp://ftp.apple.asimov.net/pub/apple_II/documentation/hardware/machines/Apple%20IIc%20Technical%20Reference%20Manual.pdf)的示例电路。

![](../Images/b3cc34f71429532dc4b869012864940c.png "apple IIc joystick")

其他计算机，如 8 位 Commodore 和 Atari 的，使用这种设置作为他们的桨控制器，通常是操纵杆或飞行杆格式。据我所知，唯一不以这种方式操作模拟操纵杆的是坦迪·TRS 系列，但我肯定还有其他的。继续之前，请咨询您的计算机书呆子俱乐部。

接下来要考虑的是操纵杆内部电位计的值。旧电脑最标准的数值是 100K 欧姆。苹果用了 150K 欧姆。为什么？我不知道，但苹果的东西，如果很难找到，他们会用它。拇指操纵杆本身有各种各样的阻力，比如 Digikey。如果你不介意花几块钱+邮费，那可能是对你最好的方式。

由于我使用的是从 XBOX 控制器中清理出来的拇指棒，所以我无法选择它的值。该拇指棒来股票与控制器是 10K 欧姆。为了补偿电阻的差异，我们只需要增加更多的电容。

在我开始为数学而烦恼之前，我需要找出我的操纵杆在它的外壳中的确切位置。我出去从 Radio Shack 买了一个 4×2×1 英寸的外壳，当我在那里的时候，我还拿了几个 T2 面板安装的常开按钮开关。

对于这些 radio shack 项目盒子，他们提供了两种盖子选择，一种是位于盒子顶部的漂亮的模制塑料盖，另一种是位于盒子内部的铝板。为了美观，我不得不使用铝制面板，但它最终引发了一系列问题。

首先，我必须把盒子的边缘切掉，这样面板就不会再凹进去了。这是用一些 90 度平切钢丝剪和锉刀完成的。因为我失去了大约四分之一英寸的高度，拇指棒将不再适合使用盒子内的螺丝安装。我不得不折断螺丝支架，然后用凿子把它们折断的地方弄平。然后，我将所有东西表面贴装到一块上下翻转的逐孔焊盘的 perfboard 上，因为拇指棒唯一适合的方式是板平放在底部。

![](../Images/708156dbe828db4c771933e08dd2bfe6.png "Exif JPEG")

![](../Images/c9ca5ac54373101480f2a7a734e2a84f.png "Exif JPEG")

解决了所有这些问题后，我开始在铝板上钻孔。我在一些纸上画出了面板的轮廓，并且测量出了所有的东西。我不喜欢这些洞的位置，所以最后我只是在纸上目测了一下。然后，我用胶带把纸粘在铝板上，用锤子和钉子在洞中心挖草皮。

![](../Images/6c0c80ab3ce185692010d21b5c12d125.png "Exif JPEG")

然后将铝板拧到一块 2×4 的废木头上，并钻孔。我用一个 1 英寸的孔锯来锯操纵杆(有点太大了)，用四分之一英寸的孔来锯开关。我用一个珠宝商的文件快速去毛刺的洞，但大操纵杆孔仍然有点粗糙。为了给一个更完美的外观，我决定它需要一个索环。

![](../Images/08c8c938997c2d7b780790e16dd07aca.png "Exif JPEG")

我去了当地的五金店，当我要一个大约 1 英寸内径的索环时，他们看着我，就像我刚刚捅了一个婴儿一样。我在 Lowes 的一个“很难找到”的箱子里找到了一个索环，外径为 1/8 英寸，内径为 23/32 英寸(18.25 毫米)，这已经足够好了。索环太高了，盒子内外都装不下，所以我只是简单地把它的顶部切掉，然后用一些胶水(超级强力胶)把它粘住。

现在盒子是有序的，我可以看到我的拇指棒顶端在哪里。我将拇指棒的引线弯成 90 度角，以便将其表面贴装到 perfboard 上。然后我把它焊了下来，加了一些测试引线，把电线从我在盒子后面为操纵杆电缆钻的一个孔中抽出来，然后打开盖子。

![](../Images/f36ebaad666bd13354f7c622054c122a.png "Exif JPEG")

![](../Images/b34d622f937ef4569d3236ece69a699e.png "Exif JPEG")

使用万用表，我发现我能推动拇指操纵杆的最远距离是两轴上的 8.5K 欧姆。我的仪表对我做的大部分事情来说都是多余的，所以我本可以使用 5 位数的精确度，但这是不必要的。稍后我会添加一些微调。

现在我知道 8.5K 是我的最大电阻，是时候计算出我需要增加多少电容，以便计算机内部的电路在这个 10K 锅上的表现与在 150K 的情况下一样。计算电容的公式非常简单:

((原始 _ 电位计 _ 值*内部 _ 定时 _ 电容器)/新 _ 电位计 _ 值)-内部 _ 定时 _ 电容器

大多数情况下，内部定时电容为 0.022 uf，尽管您可能希望在为您的机器假设之前进行检查。Apple //的原始电位计值为 150K 欧姆，因此…

((150,000 * 0.022) / 8500) – 0.022 = 0.366235294

因此，我们需要在操纵杆上并联大约 0.36uf 的电容，这样 10K 电位计在时序电路中的工作原理与 150K 电位计相同。我的电容选择非常糟糕，所以我最终在每个轴上使用 3 个 0.1uf 并联电容和 2 个 0.1uf 串联电容，得到大约 0.35uf。这不一定是精确的，因为我还添加了一个与电容串联的 10K 微调器，它允许我控制额外电容充电的速度，提供一个微调机制。下面你会看到我为 Apple //c 设计的原理图。

![](../Images/ff3770f0bda3d628ef434f2d1a8eeb22.png "schem")

现在只需要把所有东西都连接起来，连接按钮和电缆，然后使用测试程序来校准拇指棒。Apple //c 有一个很好的诊断程序，它也可以测试游戏杆，但是你也可以用 basic 编写一个。例如，在 Applesoft 中:

```
10 X=PDL(0): FOR I=1 TO 10: NEXT: Y=PDL(1)
20 PRINT X " " Y " " PEEK(49249) , PEEK (49250)
30 GOTO 10
```

为了校准，我只需要调整微调按钮，直到它大约在中心，上面的程序显示值从 0-255，我们可以给自己大约 5%的误差，从那里只是一个问题，确保拇指操纵杆在最极端的上/下/左/右位置时最大化读数。有些误差是可以的，中间有一点抖动也是可以的。

任何为模拟控制器编程的人都会很快发现中间的一点死区和极端的一点误差空间是需要的，无论是 26 年以上的旧电脑，还是全新的索尼 PSP，没有什么是 100%完美的。

![](../Images/dee21bebc26a2fba35b92521a20a63be.png "Exif JPEG")

一旦拇指棒被校准到电脑上，是时候扣上按钮，玩一些复古游戏了。效果如何？相当不错，我可能会回去钻几个小洞，这样我就可以摆弄 trimpots 而不必把它拆开，但除此之外，它玩得很好，看起来很好(海事组织)。

![](../Images/29a67d4274ffcddf895db3c4f7471c6c.png "Exif JPEG")

感谢阅读！

(参考:[电脑控制器食谱](http://www.atariarchives.org/ccc/))

[https://www.youtube.com/embed/eG-qxqkmekc?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent](https://www.youtube.com/embed/eG-qxqkmekc?version=3&rel=1&showsearch=0&showinfo=1&iv_load_policy=1&fs=1&hl=en-US&autohide=2&wmode=transparent)