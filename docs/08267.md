# 在 386 笔记本电脑上安装 Linux

> 原文:[https://hack aday . com/2011/08/12/installing-Linux-on-a-386-laptop/](https://hackaday.com/2011/08/12/installing-linux-on-a-386-laptop/)

![](../Images/e757cb4de1696a1370c4ff26769cfdf9.png "Exif JPEG")

“便宜”和“容易”的方式在大约一个小时！一个不时冒出来的问题是“我不知何故得到了一台陈旧的笔记本电脑，它能运行 Linux 吗？”当然可以，但这完全取决于！靠什么？机器 CPU，CPU 速度，硬盘空间，内存，最重要的是你期望它做什么。

好吧，为什么是英特尔 386？首先，我有一个 386，但更重要的是，它是你可以运行 Linux 的最底层的英特尔 CPU。虽然它不能做太多事情，但它会给你一个基本的系统，让你可以随意摆弄并“了解”Linux 的内部，而不用安装上百万个东西，也不用担心破坏它。

不幸的是，a 386 需要一些特殊的动作，因为实际的芯片在很久以前就从几乎所有的发行版中消失了。我看过的所有现代发行版都至少需要 486 CPU。本教程将严格用于在 a 386 上安装基本的裸机 Linux。有 486 吗？奔腾？更快？不要担心，我将在本周晚些时候的第二部分中讨论这个问题。

一小时后在 a 386 上安装 Linux？你可能会想，在 386 上启动 Linux 可能需要更长的时间(在某些情况下你是正确的)！想知道诀窍吗？简单，骗！

休息之后，请加入我，了解让您开始所需的部分和步骤。

首先我们需要一台目标机器，这是我的。这是一个 DEC PC325SL，它翻译成 intel386SL(这是一个高度集成封装中的 386SX CPU，其中许多支持硬件也在芯片内部)，运行速度为 25Mhz，内存为 4MB，硬盘空间为 120MB。它还有 256K 显存和 640×480 彩色 VGA 显示器。如果你可以摆动它，386DX CPU 或 386S(X/L)与 387 数学协处理器的建议，不，它真的不重要，如果它是英特尔，AMD 等。它还需要一个高达 2G 的 IDE 硬盘，抱歉是 MFM 硬盘。

![](../Images/3cdb522f5fd633bce0d6dd8cf7ce85df.png "Exif JPEG")

接下来，我们需要一个实际上能与 386 CPU 一起工作的发行版。这就是令人困惑的地方。每个人都有一个名为 i386 的发行版，但对 386 的支持不久前就停止了。我看了一些我喜欢的，Debian，Slackware，FreeBSD 和 NetBSD(我知道它们不是 Linux，但是嘿。)以下是我的发现:

Debian 从 3 开始停止支持，所以任何更早的版本都可以。

Slackware 在版本 9 中差不多在同一时间停止了。

FreeBSD 声明它需要 386DX，但随后又说大多数 386 笔记本电脑通过数学仿真都可以，但在一个更新的自述文件中，它声明您需要 486(困惑？)

NetBSD 说它应该可以在所有的 386 上工作，但是我从来没有做到这一点。

当然，我不是一个超级 Linux 专家，我真的只能闲逛而不能去论坛或看书，所以我选择了 Debian。最初的版本是 2.2，因为这是机器可以运行的最新版本，是的，事实上确实如此。问题是用一个 2000 年通用内核启动花了一个多小时，当它最终启动时，它拒绝通过软件包安装程序。

你可以花很多时间进行调整和优化，让它运行得更好，但我在这里面临一个残酷的事实，那就是我能运行的最好的东西仍然过时了十多年，它需要大量的工作。所以我只是简单地回到过去，寻找更合适的东西。

最后我使用了 Debian 1.3.1，这是一个 90 年代中期的 Linux，这才是真正的重点。使用你喜欢的任何东西，但是它必须很旧或者需要大量的工作，在这一点上你最好从头开始做。

**作弊安装工具:**

具有 IDE/ATA 端口的 x86 兼容主机，以及能够引导至 DOS 的标准 BIOS。我用了我的双核 AMD A2X2 和 nvidia 芯片组，所以可以很安全地说，大多数 PC 的意愿。它还需要互联网连接和某种形式的 Linux 安装或启动(我用薄荷)

你可以用 windows 98 紧急启动盘(EBD)启动，或者因为 MS DOS 不知道如何访问 USB 或 SATA 光盘，我用了一个旧的 IDE 驱动器，上面有 100Mb FAT16 分区。

IDE 到 3.5 IDE 引脚适配器，它们既便宜又方便，我建议你买一个，只要确保正确插入就可以杀死你的驱动器(就像魔法烟雾杀死一样)。

应该可以了，我们开始吧

**第一步:**

关闭你的主机，插入一个备用的 IDE 硬盘作为从机。为了不让我自己弄坏我的电脑主驱动器，我把它从 SATA 端口上拔了下来。检查 BIOS 以确保它已被检测到，并且您正在从光驱启动。首先，插入 Windows EBD 保存更改，并让计算机从 EBD 启动。

你会看到一个 Windows 启动盘菜单，选择“启动无光盘支持”。一旦在 DOS 提示符下使用 FDISK 设置一个 100 左右的 meg 分区，当 FDISK 询问您是否需要大磁盘支持以确保 FAT16 分区时，一定要告诉它 no。

![](../Images/fcb8597eb7b3e15508293668aa9c0fc9.png "Exif JPEG")

退出 FDISK，使用 EBD 重新启动，并使用格式 C:(如果系统中插入了其他驱动器，请确保这是正确的驱动器)，然后弹出 EBD。在我的情况下，我然后插回我的 SATA 硬盘驱动器，并设置 BIOS 从该磁盘启动，然后进入 Linux Mint，尽管你可以不连接主驱动器，使用 live CD Linux。

我知道 linux 可以做 FAT16 分区。在搞清楚这一切的时候，我在 EBD 读取它的时候遇到了麻烦，所以我就开始为真正最需要它的操作系统创建分区。

**第二步:**

启动你的主机进入 Linux，我用的是(再次)Linux Mint，但这没关系，它只需要能够上线，并安装一个 FAT16 分区。将你的网络浏览器指向 Debian 档案，然后进入下面的文件夹[Debian-1 . 3 . 1/main/disks-i386/1997-10-13/](http://archive.debian.org/debian/dists/Debian-1.3.1/main/disks-i386/1997-10-13/)

下载以下文件

[base1_3.tgz](http://archive.debian.org/debian/dists/Debian-1.3.1/main/disks-i386/1997-10-13/base1_3.tgz)

[resc1440.bin](http://archive.debian.org/debian/dists/Debian-1.3.1/main/disks-i386/1997-10-13/resc1440.bin)

[drv1440.bin](http://archive.debian.org/debian/dists/Debian-1.3.1/main/disks-i386/1997-10-13/drv1440.bin)

[linux](http://archive.debian.org/debian/dists/Debian-1.3.1/main/disks-i386/1997-10-13/linux)

[loadlin.exe](http://archive.debian.org/debian/dists/Debian-1.3.1/main/disks-i386/1997-10-13/loadlin.exe)

[root.bin](http://archive.debian.org/debian/dists/Debian-1.3.1/main/disks-i386/1997-10-13/root.bin)

并将它们复制到您的 FAT16 分区。

**可选步骤:**

我的 386 配有 120 兆的磁盘，这可能足够大，可以容纳一个基本的 Linux 系统，但我也想为 MS DOS 分区留一点空间，所以我升级到了 540 兆的硬盘。当然，386 和其他小于 1994 年的机器有 1024 个柱面的 bios 限制，将驱动器限制为 500 兆字节。这台电脑甚至更挑剔，将我的选择限制在 2 个 12 月批准的驱动器，120 兆或 240 兆(可能作为一个选项出售)。为了使用这个驱动器，让 DOS 和 Linux 都能在上面愉快地生活，我必须使用一个驱动器覆盖(ick)。到目前为止，我一直避免使用软盘，但我有软盘，机器上的驱动器工作正常。

我找到了一份西部数据 EZ Drive 9.03 的旧拷贝，我还使用了 MS-DOS6.22 引导软盘映像。EZ drive 很简单，但是即使你不想要一个 DOS 分区，你也必须有一个，否则 EZ drive 会尖叫“没有引导分区”并停止。因此，在驱动器的开始至少要有一个 MSDOS 分区，即使它只有一兆大小。

**第三步:**

从 386 上取下硬盘，并将其连接到您的主机 PC 上，它应该是通道 0 上的 MASTER，以及我们放置安装文件的 FAT16 分区的驱动器。应该是通道 0 上的从机。进入你的电脑 bios，找到你的 386 的驱动器，并确保关闭 LBA。如果您使用的是驱动器覆盖，请将 bios 设置为首先从 386 驱动器启动。

![](../Images/cae8c41c39ac716553ed75e215786135.png "Exif JPEG")

重新启动主机(我现在也断开了我的主驱动器)，如果你使用的是驱动器覆盖，让它先启动硬盘，然后告诉覆盖从驱动器 A 启动，将你的 Windows EBD 插入你的 CD 驱动器，它最终会加载。如果您没有使用覆盖，只需从 Windows EBD 启动。当你进入 EBD 启动菜单时，使用箭头键停止定时器，然后按住 SHIFT 并按 F5 键，这将直接把你转到命令提示符下。

找到装有 linux 安装文件的驱动器，并运行:

loadlin Linux root =/dev/ram initrd = root . bin

debian 安装程序应该马上启动，跟随菜单直到你来到磁盘分区。创建两个分区，一个是 82 型(linux 交换)，大约 16-32 兆，另一个应该按照你喜欢的方式设置为你的空间。我只是使用了磁盘的剩余部分，它默认为 linux 类型。编写更改并继续安装程序。还要确保使用正确的磁盘，它应该是/dev/hda

![](../Images/3031b1f3c72b4cf3926584a22c69f0ce.png "Exif JPEG")

安装程序应该继续运行，并最终要求您安装 lilo，这在 MBR 上是没问题的，然后重新启动。移除留在主机中的所有磁盘，Debian 应该会启动。现在你必须通过另一轮的配置问题。最终你会看到 dselect 包管理器(我讨厌它)。一旦你知道如何退出 dselect，你应该仍然是根用户。键入 halt，系统应该开始关机，如果您登录到您的用户帐户，您需要使用 su 并首先输入 root 密码来停止机器。

**第四步:**

一旦一切正常，将您的 386 驱动器从主机上拆下来，放回 386 中，如果运气好的话，它应该可以正常启动。虽然只安装了最基本的东西，但是仍然有大量的东西需要检查和浏览。除了阅读这篇文章和做好一切准备，大概需要一个小时。

把软件包放进机器，现在我只是从我的 mac 上的 Debian 档案中下载 deb 文件，并通过软盘复制它们。另一种选择是使用 minicom 和零调制解调器电缆。如果你真的很幸运，你可以建立人际网络。我下载了 Debian 1.3.1 的整个 binary-i386 文件夹，它大约有 400MB，虽然我没有试图加载机器，但一些东西，如菜单驱动的文本编辑器(fte)和鼠标支持都很好。

玩得开心，一定要收听第二部分，其中涉及我的 8MB 奔腾 90 笔记本电脑 linux 后，你可能会发现它令人惊讶。